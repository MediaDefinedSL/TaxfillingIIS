@model TaxFiling.Web.Models.SelfOnlineSummary

<main class="main-content">

    <div class=" mt-4">
        <div class="card card-body">
            @{
                await Html.RenderPartialAsync("SelfOnlineSummaryPDF", Model.selfFilingSummaryCalculationViewModel);
            }

            <div style="text-align:center; margin-top:20px;">
                <form asp-controller="SelfOnlineFlow" asp-action="DownloadTaxPdf" method="post">
                    <button type="submit" class="btn btn-primary">
                        <i class="bi bi-file-earmark-pdf"></i> Download PDF
                    </button>
                </form>
            </div>
            <br />
            <br />
            <h4 class="mb-3">
                &nbsp;Immovable Properties
            </h4>
            <div class="table-responsive" id="ImmovablePropertiesGrid">
                <table class="table table-bordered table-striped mt-2">
                    <thead class="table-light">
                        <tr>
                            <th>No</th>
                            <th>Type</th>
                            <th>S/N</th>
                            <th>Situation Property</th>
                            <th>Date Acquisition  </th>
                            <th>Cost</th>
                            <th>Market value</th>


                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.selfonlineAssetsImmovablePropertyViewModel != null && Model.selfonlineAssetsImmovablePropertyViewModel.Any())
                        {
                            var index = 0;
                            foreach (var immovableProperties in Model.selfonlineAssetsImmovablePropertyViewModel)
                            {
                                <tr>
                                    <td>@(++index)</td>
                                    <td>@immovableProperties.Type</td>
                                    <td>@immovableProperties.SerialNumber</td>
                                    <td>@immovableProperties.Situation</td>   <!-- fixed -->
                                    <td>@immovableProperties.DateOfAcquisition?.ToString("yyyy-MM-dd")</td>
                                    <td>@immovableProperties.Cost?.ToString("N2")</td>
                                    <td>@immovableProperties.MarketValue?.ToString("N2")</td>

                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="7" class="text-center">No immovable properties found.</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <h4 class="mb-3">
                &nbsp; Motor Vehicle
            </h4>
            <div class="table-responsive" id="MotorVehicleGrid">
                <table class="table table-bordered table-striped mt-2">
                    <thead class="table-light">
                        <tr>
                            <th>No</th>
                            <th>Type</th>
                            <th>S/N</th>
                            <th>Registration No</th>
                            <th>Date Acquisition</th>
                            <th>Cost/Market Value</th>


                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.selfonlineAssetsMotorVehicleViewModel != null && Model.selfonlineAssetsMotorVehicleViewModel.Any())
                        {
                            var index = 0;
                            foreach (var motorVehicle in Model.selfonlineAssetsMotorVehicleViewModel)
                            {
                                <tr>
                                    <td>@(++index)</td>
                                    <td>@motorVehicle.Type</td>
                                    <td>@motorVehicle.SerialNumber</td>
                                    <td>@motorVehicle.RegistrationNo</td>
                                    <td>@motorVehicle.DateOfAcquisition?.ToString("yyyy-MM-dd")</td>
                                    <td>@motorVehicle.CostMarketValue?.ToString("N2")</td>

                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="8" class="text-center">No immovable properties found.</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <h4 class="mb-3">
                &nbsp; Shares/Stocks/Securities as at 31.03.2025
            </h4>
            <div class="table-responsive" id="SharesStocksGrid">
                <table class="table table-bordered table-striped mt-2">
                    <thead class="table-light">
                        <tr>
                            <th>No</th>
                            <th>Type</th>
                            <th>S/N</th>
                            <th>No Of Shares/Stocks</th>
                            <th>Date Acquisition</th>
                            <th>Cost Acquisition</th>
                            <th>Net dividend</th>


                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.selfonlineAssetsSharesStocksSecuritiesViewModel != null && Model.selfonlineAssetsSharesStocksSecuritiesViewModel.Any())
                        {
                            var index = 0;
                            foreach (var sharesStocksSecurities in Model.selfonlineAssetsSharesStocksSecuritiesViewModel)
                            {
                                <tr>
                                    <td>@(++index)</td>
                                    <td>@sharesStocksSecurities.Type</td>
                                    <td>@sharesStocksSecurities.SerialNumber</td>
                                    <td>@sharesStocksSecurities.NoOfSharesStocks</td>
                                    <td>@sharesStocksSecurities.DateOfAcquisition?.ToString("yyyy-MM-dd")</td>
                                    <td>@sharesStocksSecurities.CostOfAcquisition?.ToString("N2")</td>
                                    <td>@sharesStocksSecurities.NetDividendIncome?.ToString("N2")</td>

                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="8" class="text-center">No immovable properties found.</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <h4 class="mb-3">
                &nbsp; Declare the Capital and Current Account (credit) Balances Held as a Part of Business, as at 31.03.2025
            </h4>
            <div class="table-responsive" id="DeclareCapitalGrid">
                <table class="table table-bordered table-striped mt-2">
                    <thead class="table-light">
                        <tr>
                            <th>No</th>
                            <th>Type</th>
                            <th>S/N</th>
                            <th>Business Name</th>
                            <th>Current Balance</th>
                            <th>Capital Balance</th>


                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.selfonlineAssetsCapitalCurrentAccountViewModel != null && Model.selfonlineAssetsCapitalCurrentAccountViewModel.Any())
                        {
                            var index = 0;
                            foreach (var capitalCurrentAccount in Model.selfonlineAssetsCapitalCurrentAccountViewModel)
                            {
                                <tr>
                                    <td>@(++index)</td>
                                    <td>@capitalCurrentAccount.Type</td>
                                    <td>@capitalCurrentAccount.SerialNumber</td>
                                    <td>@capitalCurrentAccount.BusinessName</td>
                                    <td>@capitalCurrentAccount.CurrentAccountBalance?.ToString("N2")</td>
                                    <td>@capitalCurrentAccount.CapitalAccountBalance?.ToString("N2")</td>

                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="8" class="text-center">No immovable properties found.</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <h4 class="mb-3">
                &nbsp;All liabilities including any debit balance of a business capital, current or credit card account
            </h4>
            <div class="table-responsive" id="LiabilityGrid">
                <table class="table table-bordered table-striped mt-2">
                    <thead class="table-light">
                        <tr>
                            <th>No</th>
                            <th>Type</th>
                            <th>S/N</th>
                            <th>Security Liability</th>
                            <th>Date Commencement  </th>
                            <th>Original Amount</th>
                            <th>Amount</th>
                            <th>Amount Repaid Y/A</th>


                        </tr>
                    </thead>
                    <tbody>

                        @if (Model.selfonlineLiabilitiesAllLiabilities != null && Model.selfonlineLiabilitiesAllLiabilities.Any())
                        {
                            var index = 0;
                            foreach (var liabilities in Model.selfonlineLiabilitiesAllLiabilities)
                            {
                                <tr>
                                    <td>@(++index)</td>
                                    <td>@liabilities.Type</td>
                                    <td>@liabilities.SerialNumber</td>
                                    <td>@liabilities.SecurityOnLiability</td>   <!-- fixed -->
                                    <td>@liabilities.DateOfCommencement?.ToString("yyyy-MM-dd")</td>
                                    <td>@liabilities.OriginalAmount?.ToString("N2")</td>
                                    <td>@liabilities.AmountAsAt?.ToString("N2")</td>
                                    <td>@liabilities.AmountRepaid?.ToString("N2")</td>

                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="9" class="text-center">No Liabilities found.</td>
                            </tr>
                        }

                    </tbody>
                </table>
            </div>
            <h4 class="mb-3">
                &nbsp;Any other assets acquired or gifts received during the year
            </h4>
            <div class="table-responsive" id="OtherAssetsGrid">
                <table class="table table-bordered table-striped mt-2">
                    <thead class="table-light">
                        <tr>
                            <th>No</th>
                            <th>Type</th>
                            <th>S/N</th>
                            <th>Gift/Exchange/Purchase</th>
                            <th>Date Acquisition  </th>
                            <th>Cost</th>

                        </tr>
                    </thead>

                    <tbody>
                        @if (Model.selfonlineLiabilitiesOtherAssetsGifts != null && Model.selfonlineLiabilitiesOtherAssetsGifts.Any())
                        {
                            var index = 0;
                            foreach (var otherAssets in Model.selfonlineLiabilitiesOtherAssetsGifts)
                            {
                                <tr>
                                    <td>@(++index)</td>
                                    <td>@otherAssets.Type</td>
                                    <td>@otherAssets.SerialNumber</td>
                                    <td>@otherAssets.AcquisitionMode</td>   <!-- fixed -->
                                    <td>@otherAssets.DateOfAcquisition?.ToString("yyyy-MM-dd")</td>
                                    <td>@otherAssets.CostMarketValue?.ToString("N2")</td>

                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="9" class="text-center">No Other Assets found.</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <h4 class="mb-3">
                &nbsp;Disposal of assets including shares (sale/transfer/gift) during the year
            </h4>
            <div class="table-responsive" id="DisposalAsetsGrid">
                <table class="table table-bordered table-striped mt-2">
                    <thead class="table-light">
                        <tr>
                            <th>No</th>
                            <th>Type</th>
                            <th>S/N</th>
                            <th>Date Disposal</th>
                            <th>Sales Proceed</th>
                            <th>Date Acquired</th>
                            <th>Cost</th>


                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.selfonlineLiabilitiesDisposalAssets != null && Model.selfonlineLiabilitiesDisposalAssets.Any())
                        {
                            var index = 0;
                            foreach (var disposalAsets in Model.selfonlineLiabilitiesDisposalAssets)
                            {
                                <tr>
                                    <td>@(++index)</td>
                                    <td>@disposalAsets.Type</td>
                                    <td>@disposalAsets.SerialNumber</td>
                                    <td>@disposalAsets.DateOfDisposal?.ToString("yyyy-MM-dd")</td>
                                    <td>@disposalAsets.SalesProceed</td>
                                    <td>@disposalAsets.DateAcquired?.ToString("yyyy-MM-dd")</td>
                                    <td>@disposalAsets.Cost</td>

                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="9" class="text-center">No Disposal Assets found.</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

        </div>

    </div>

</main>